(self["webpackChunkfkCivitai"]=self["webpackChunkfkCivitai"]||[]).push([[438],{7882:function(e){(function(t){"use strict";function s(){var e;if(!(this instanceof s)){var t=arguments[0],a=arguments[1];e=arguments[2];var r=new s(e);return r.abbreviate(t,a)}e=arguments[0],this.units=null==e?["k","m","b","t"]:e}s.prototype._abbreviate=function(e,t){t=Math.pow(10,t);for(var s=this.units.length-1;s>=0;s--){var a=Math.pow(10,3*(s+1));if(a<=e){e=Math.round(e*t/a)/t,1e3===e&&s<this.units.length-1&&(e=1,s++),e+=this.units[s];break}}return e},s.prototype.abbreviate=function(e,t){var s=e<0,a=this._abbreviate(Math.abs(e),t||0);return s?"-"+a:a},e.exports?e.exports=s:t.NumberAbbreviate=s})(this)},3438:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return te}});var a=s(3396),r=s(7139),l=s(4870),o=s(2483);const n=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"rgba(255,255,255,.3)",stroke:"transparent","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a._)("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})],-1),i=[n];function d(e,t){return(0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(e.$style.Star)},i,2)}var _={Star:"StarIcon_Star_nJDh1"},p=s(89);const c={},u={};u["$style"]=_;const v=(0,p.Z)(c,[["render",d],["__cssModules",u]]);var m=v;const g=["textContent"];var w=(0,a.aZ)({__name:"Rating",props:{rating:{},ratings:{}},setup(e){const t=e,s=(0,a.Fl)((()=>Math.round(t.rating??0))),l=(0,a.Fl)((()=>t.ratings??0));return(e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(e.$style.Rating)},[(0,a._)("div",{class:(0,r.C_)(e.$style.Stars)},[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(5,(t=>(0,a.Wm)(m,{class:(0,r.C_)({[e.$style.Activated]:t<=s.value})},null,8,["class"]))),64))],2),(0,a._)("div",{textContent:(0,r.zw)(l.value)},null,8,g)],2))}}),y={Rating:"Rating_Rating_tcDjk",Stars:"Rating_Stars_RrzzG",Activated:"Rating_Activated_kDmvx"};const M={};M["$style"]=y;const h=(0,p.Z)(w,[["__cssModules",M]]);var C=h,k=s(7882),b=(0,a.aZ)({__name:"StatsWrapper",props:{stat:{}},setup(e){const t=e,s=(0,a.Fl)((()=>k(t.stat??0,1).toString().toLocaleUpperCase()));return(e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(e.$style.StatsWrapper)},[e.$slots.default?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,r.C_)(e.$style.StatsIcon)},[(0,a.WI)(e.$slots,"default")],2)):(0,a.kq)("",!0),(0,a._)("div",null,(0,r.zw)(s.value),1)],2))}}),S={StatsWrapper:"StatsWrapper_StatsWrapper_KJZ81",StatsIcon:"StatsWrapper_StatsIcon_BHPET"};const f={};f["$style"]=S;const $=(0,p.Z)(b,[["__cssModules",f]]);var E=$;const W=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a._)("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})],-1),I=[W];var x=(0,a.aZ)({__name:"Likes",props:{likes:{}},setup(e){const t=e;return(e,s)=>((0,a.wg)(),(0,a.j4)(E,{stat:t.likes??0},{default:(0,a.w5)((()=>[(0,a._)("div",{class:(0,r.C_)([e.$style.Heart,{[e.$style.HeartActivated]:t.likes>=0}])},I,2)])),_:1},8,["stat"]))}}),U={HeartActivated:"Likes_HeartActivated_jd9wi"};const q={};q["$style"]=U;const D=(0,p.Z)(x,[["__cssModules",q]]);var L=D;const Z=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a._)("path",{d:"M3 20l1.3 -3.9a9 8 0 1 1 3.4 2.9l-4.7 1"})],-1);var F=(0,a.aZ)({__name:"Comments",props:{comments:{}},setup(e){const t=e;return(e,s)=>((0,a.wg)(),(0,a.j4)(E,{stat:t.comments??0},{default:(0,a.w5)((()=>[Z])),_:1},8,["stat"]))}});const j=F;var A=j;const P=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10%",height:"10%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a._)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,a._)("path",{d:"M7 11l5 5l5 -5"}),(0,a._)("path",{d:"M12 4l0 12"})],-1);var z=(0,a.aZ)({__name:"Downloads",props:{downloads:{}},setup(e){const t=e;return(e,s)=>((0,a.wg)(),(0,a.j4)(E,{stat:t.downloads??0},{default:(0,a.w5)((()=>[P])),_:1},8,["stat"]))}});const T=z;var H=T,R=s(8616),B=s(6413);function N(e,t=!0){function s(e){return void 0!==e&&(null==e?t:"string"==typeof e?(e=e.toLowerCase(),"true"==e||"false"!=e&&(e=parseInt(e),console.log("checking refresh as int",e),s(e))):Boolean(e))}return(0,a.Fl)((()=>s((0,l.dq)(e)?e.value:e)))}const J=["href"],Y=["src"],G=["src"],Q=["textContent"],K=["textContent"];var V=(0,a.aZ)({__name:"ModelEmbed",setup(e){const t=(0,o.yj)(),s=(0,a.Fl)((()=>parseInt(t.params.modelId??0))),n=(0,a.Fl)((()=>parseInt(t.query.version_idx??0))),i=(0,a.Fl)((()=>parseInt(t.query.image_idx??0))),d=N(t.query.hide_title),_=N(t.query.hide_type),p=N(t.query.hide_user),c=N(t.query.hide_stats),u=N(t.query.refresh),v=N(t.query.version_info),m=N(t.query.version_stats),g=(0,R.e)(s,i,n,v,m,!0),{error:w,isFetching:y,execute:M,modelName:h,modelType:k,modelUploader:b,modelUploaderProfileImage:S,modelVersions:f,rating:$,ratings:E,likes:W,comments:I,downloads:x,primaryModel:U,primarySFWModelImages:q,primarySFWModelPreviewImage:D,primarySFWModelImageCount:Z}=g,F=(0,l.iH)(!0),j=(0,a.Fl)((()=>y.value||F.value));return(0,a.bv)((()=>{if(u){const{pause:e}=(0,B.Zv)((()=>M()),12e4)}})),(e,t)=>((0,a.wg)(),(0,a.iD)("a",{target:"_blank",href:`https://civitai.com/models/${s.value}`,class:(0,r.C_)([e.$style.Embed,{[e.$style.EmbedLoading]:j.value}])},[(0,a._)("div",{class:(0,r.C_)(e.$style.EmbedContent)},[(0,a._)("div",{class:(0,r.C_)(e.$style.PreviewImageWrapper)},[(0,a._)("div",{class:(0,r.C_)(e.$style.PreviewImage)},[(0,a._)("img",{alt:"Model preview image",src:(0,l.SU)(D),onLoadstart:t[0]||(t[0]=e=>F.value=!0),onLoad:t[1]||(t[1]=e=>F.value=!1)},null,40,Y)],2)],2),(0,l.SU)(_)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,r.C_)(e.$style.ModelTypeWrapper)},[(0,a._)("div",{class:(0,r.C_)(e.$style.ModelType)},(0,r.zw)((0,l.SU)(k).replace("TextualInversion","Embedding")),3)],2)),(0,a._)("div",{class:(0,r.C_)(e.$style.ModelMeta)},[(0,l.SU)(p)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,r.C_)(e.$style.Uploader)},[(0,a._)("div",{class:(0,r.C_)(e.$style.AvatarImage)},[(0,a._)("img",{alt:"User profile image",src:(0,l.SU)(S)},null,8,G)],2),(0,a._)("div",{textContent:(0,r.zw)((0,l.SU)(b))},null,8,Q)],2)),(0,l.SU)(d)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,r.C_)(e.$style.ModelName),textContent:(0,r.zw)((0,l.SU)(h))},null,10,K)),(0,l.SU)(c)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:2,class:(0,r.C_)(e.$style.ModelStats)},[(0,a._)("div",{class:(0,r.C_)(e.$style.StatsWrapper)},[(0,a.Wm)(C,{rating:(0,l.SU)($),ratings:(0,l.SU)(E)},null,8,["rating","ratings"])],2),(0,a._)("div",{class:(0,r.C_)(e.$style.StatsWrapper),style:{"margin-left":"auto"}},[(0,a.Wm)(L,{likes:(0,l.SU)(W)},null,8,["likes"])],2),(0,a._)("div",{class:(0,r.C_)(e.$style.StatsWrapper)},[(0,a.Wm)(A,{comments:(0,l.SU)(I)},null,8,["comments"])],2),(0,a._)("div",{class:(0,r.C_)(e.$style.StatsWrapper)},[(0,a.Wm)(H,{downloads:(0,l.SU)(x)},null,8,["downloads"])],2)],2))],2)],2),(0,a._)("div",{class:(0,r.C_)(e.$style.LoaderContent)},[(0,a._)("div",{class:(0,r.C_)(e.$style.Loader)},null,2)],2)],10,J))}}),O={Embed:"ModelEmbed_Embed_egotp",EmbedLoading:"ModelEmbed_EmbedLoading_kNgMx",EmbedContent:"ModelEmbed_EmbedContent_zSxQu",LoaderContent:"ModelEmbed_LoaderContent_dlQGe",Loader:"ModelEmbed_Loader_C5fCs",loader:"ModelEmbed_loader_EZ9VY",PreviewImage:"ModelEmbed_PreviewImage_QtY0g",PreviewImageWrapper:"ModelEmbed_PreviewImageWrapper_aIJue",ModelTypeWrapper:"ModelEmbed_ModelTypeWrapper_LZqGm",ModelType:"ModelEmbed_ModelType_Mnawd",ModelMeta:"ModelEmbed_ModelMeta_tUOmm",Uploader:"ModelEmbed_Uploader_HngYJ",ModelName:"ModelEmbed_ModelName_Cjqtc",ModelStats:"ModelEmbed_ModelStats_Wy1gP",AvatarImage:"ModelEmbed_AvatarImage_DFD0v",StatsWrapper:"ModelEmbed_StatsWrapper_yIXtr"};const X={};X["$style"]=O;const ee=(0,p.Z)(V,[["__cssModules",X]]);var te=ee}}]);
//# sourceMappingURL=438.bc0f91c7.js.map