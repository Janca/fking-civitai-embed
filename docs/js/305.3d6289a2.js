(self["webpackChunkfkCivitai"]=self["webpackChunkfkCivitai"]||[]).push([[305],{7882:function(e){(function(t){"use strict";function a(){var e;if(!(this instanceof a)){var t=arguments[0],s=arguments[1];e=arguments[2];var l=new a(e);return l.abbreviate(t,s)}e=arguments[0],this.units=null==e?["k","m","b","t"]:e}a.prototype._abbreviate=function(e,t){t=Math.pow(10,t);for(var a=this.units.length-1;a>=0;a--){var s=Math.pow(10,3*(a+1));if(s<=e){e=Math.round(e*t/s)/t,1e3===e&&a<this.units.length-1&&(e=1,a++),e+=this.units[a];break}}return e},a.prototype.abbreviate=function(e,t){var a=e<0,s=this._abbreviate(Math.abs(e),t||0);return a?"-"+s:s},e.exports?e.exports=a:t.NumberAbbreviate=a})(this)},6305:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ae}});var s=a(3396),l=a(7139),r=a(4870),o=a(9242),n=a(2483);const i=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"rgba(255,255,255,.3)",stroke:"transparent","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s._)("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})],-1),d=[i];function _(e,t){return(0,s.wg)(),(0,s.iD)("div",{class:(0,l.C_)(e.$style.Star)},d,2)}var p={Star:"StarIcon_Star_nJDh1"},u=a(89);const c={},v={};v["$style"]=p;const m=(0,u.Z)(c,[["render",_],["__cssModules",v]]);var g=m;const w=["textContent"];var y=(0,s.aZ)({__name:"Rating",props:{rating:{},ratings:{}},setup(e){const t=e,a=(0,s.Fl)((()=>Math.round(t.rating??0))),r=(0,s.Fl)((()=>t.ratings??0));return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,l.C_)(e.$style.Rating)},[(0,s._)("div",{class:(0,l.C_)(e.$style.Stars)},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(t=>(0,s.Wm)(g,{class:(0,l.C_)({[e.$style.Activated]:t<=a.value})},null,8,["class"]))),64))],2),(0,s._)("div",{textContent:(0,l.zw)(r.value)},null,8,w)],2))}}),h={Rating:"Rating_Rating_tcDjk",Stars:"Rating_Stars_RrzzG",Activated:"Rating_Activated_kDmvx"};const M={};M["$style"]=h;const C=(0,u.Z)(y,[["__cssModules",M]]);var b=C,k=a(7882),S=(0,s.aZ)({__name:"StatsWrapper",props:{stat:{}},setup(e){const t=e,a=(0,s.Fl)((()=>k(t.stat??0,1).toString().toLocaleUpperCase()));return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,l.C_)(e.$style.StatsWrapper)},[e.$slots.default?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,l.C_)(e.$style.StatsIcon)},[(0,s.WI)(e.$slots,"default")],2)):(0,s.kq)("",!0),(0,s._)("div",null,(0,l.zw)(a.value),1)],2))}}),f={StatsWrapper:"StatsWrapper_StatsWrapper_KJZ81",StatsIcon:"StatsWrapper_StatsIcon_BHPET"};const $={};$["$style"]=f;const E=(0,u.Z)(S,[["__cssModules",$]]);var W=E;const I=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s._)("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})],-1),x=[I];var U=(0,s.aZ)({__name:"Likes",props:{likes:{}},setup(e){const t=e;return(e,a)=>((0,s.wg)(),(0,s.j4)(W,{stat:t.likes??0},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,l.C_)([e.$style.Heart,{[e.$style.HeartActivated]:t.likes>=0}])},x,2)])),_:1},8,["stat"]))}}),q={HeartActivated:"Likes_HeartActivated_jd9wi"};const F={};F["$style"]=q;const D=(0,u.Z)(U,[["__cssModules",F]]);var L=D;const Z=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s._)("path",{d:"M3 20l1.3 -3.9a9 8 0 1 1 3.4 2.9l-4.7 1"})],-1);var j=(0,s.aZ)({__name:"Comments",props:{comments:{}},setup(e){const t=e;return(e,a)=>((0,s.wg)(),(0,s.j4)(W,{stat:t.comments??0},{default:(0,s.w5)((()=>[Z])),_:1},8,["stat"]))}});const A=j;var P=A;const z=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10%",height:"10%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s._)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,s._)("path",{d:"M7 11l5 5l5 -5"}),(0,s._)("path",{d:"M12 4l0 12"})],-1);var T=(0,s.aZ)({__name:"Downloads",props:{downloads:{}},setup(e){const t=e;return(e,a)=>((0,s.wg)(),(0,s.j4)(W,{stat:t.downloads??0},{default:(0,s.w5)((()=>[z])),_:1},8,["stat"]))}});const H=T;var R=H,B=a(8616),N=a(6413);function J(e,t=!0){function a(e){return void 0!==e&&(null==e?t:"string"==typeof e?(e=e.toLowerCase(),"true"==e||"false"!=e&&(e=parseInt(e),console.log("checking refresh as int",e),a(e))):Boolean(e))}return(0,s.Fl)((()=>a((0,r.dq)(e)?e.value:e)))}const Y=["href"],G=["src"],Q=["src"],K=["textContent"],O=["textContent"];var V=(0,s.aZ)({__name:"ModelEmbed",setup(e){const t=(0,n.yj)(),a=(0,s.Fl)((()=>parseInt(t.params.modelId??"0"))),i=(0,s.Fl)((()=>parseInt(t.query.version_idx??"0"))),d=(0,s.Fl)((()=>parseInt(t.query.image_idx??"0"))),_=(0,s.Fl)((()=>parseFloat(t.query.meta_scale??"1.0"))),p=(0,s.Fl)((()=>parseFloat(t.query.inactive_ui_alpha??"1.0"))),u=J(t.query.hide_title),c=J(t.query.hide_type),v=J(t.query.hide_user),m=J(t.query.hide_stats),g=J(t.query.refresh),w=J(t.query.version_info),y=J(t.query.version_stats),h=(0,B.e)(a,d,i,w,y,!0),{error:M,isFetching:C,execute:k,modelName:S,modelType:f,modelUploader:$,modelUploaderProfileImage:E,versions:W,rating:I,ratings:x,likes:U,comments:q,downloads:F,primaryModel:D,primarySFWModelImages:Z,primarySFWModelPreviewImage:j,primarySFWModelImageCount:A}=h,z=(0,r.iH)(!0),T=(0,s.Fl)((()=>C.value||z.value));(0,s.bv)((()=>{if(g){const{pause:e}=(0,N.Zv)((()=>k()),12e4)}}));(0,o.fb)();const H=(0,s.Fl)((()=>({["--ui-inactive-alpha"]:p.value??1,["--ui-scale"]:_.value??1})));return(e,t)=>((0,s.wg)(),(0,s.iD)("a",{target:"_blank",style:(0,l.j5)(H.value),href:`https://civitai.com/models/${a.value}`,class:(0,l.C_)([e.$style.Embed,{[e.$style.EmbedLoading]:T.value}])},[(0,s._)("div",{class:(0,l.C_)(e.$style.EmbedContent)},[(0,s._)("div",{class:(0,l.C_)(e.$style.PreviewImageWrapper)},[(0,s._)("div",{class:(0,l.C_)(e.$style.PreviewImage)},[(0,s._)("img",{alt:"Model preview image",src:(0,r.SU)(j),onLoadstart:t[0]||(t[0]=e=>z.value=!0),onLoad:t[1]||(t[1]=e=>z.value=!1)},null,40,G)],2)],2),(0,r.SU)(c)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,l.C_)(e.$style.ModelTypeWrapper)},[(0,s._)("div",{class:(0,l.C_)(e.$style.ModelType)},(0,l.zw)((0,r.SU)(f).replace("TextualInversion","Embedding")),3)],2)),(0,s._)("div",{class:(0,l.C_)(e.$style.ModelMeta)},[(0,r.SU)(v)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,l.C_)(e.$style.Uploader)},[(0,s._)("div",{class:(0,l.C_)(e.$style.AvatarImage)},[(0,s._)("img",{alt:"User profile image",src:(0,r.SU)(E)},null,8,Q)],2),(0,s._)("div",{textContent:(0,l.zw)((0,r.SU)($))},null,8,K)],2)),(0,r.SU)(u)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,l.C_)(e.$style.ModelName),textContent:(0,l.zw)((0,r.SU)(S))},null,10,O)),(0,r.SU)(m)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:2,class:(0,l.C_)(e.$style.ModelStats)},[(0,s._)("div",{class:(0,l.C_)(e.$style.StatsWrapper)},[(0,s.Wm)(b,{rating:(0,r.SU)(I),ratings:(0,r.SU)(x)},null,8,["rating","ratings"])],2),(0,s._)("div",{class:(0,l.C_)(e.$style.StatsWrapper),style:{"margin-left":"auto"}},[(0,s.Wm)(L,{likes:(0,r.SU)(U)},null,8,["likes"])],2),(0,s._)("div",{class:(0,l.C_)(e.$style.StatsWrapper)},[(0,s.Wm)(P,{comments:(0,r.SU)(q)},null,8,["comments"])],2),(0,s._)("div",{class:(0,l.C_)(e.$style.StatsWrapper)},[(0,s.Wm)(R,{downloads:(0,r.SU)(F)},null,8,["downloads"])],2)],2))],2)],2),(0,s._)("div",{class:(0,l.C_)(e.$style.LoaderContent)},[(0,s._)("div",{class:(0,l.C_)(e.$style.Loader)},null,2)],2)],14,Y))}}),X={Embed:"ModelEmbed_Embed_egotp",EmbedLoading:"ModelEmbed_EmbedLoading_kNgMx",EmbedContent:"ModelEmbed_EmbedContent_zSxQu",LoaderContent:"ModelEmbed_LoaderContent_dlQGe",Loader:"ModelEmbed_Loader_C5fCs",loader:"ModelEmbed_loader_EZ9VY",PreviewImage:"ModelEmbed_PreviewImage_QtY0g",PreviewImageWrapper:"ModelEmbed_PreviewImageWrapper_aIJue",ModelTypeWrapper:"ModelEmbed_ModelTypeWrapper_LZqGm",ModelMeta:"ModelEmbed_ModelMeta_tUOmm",ModelType:"ModelEmbed_ModelType_Mnawd",Uploader:"ModelEmbed_Uploader_HngYJ",ModelName:"ModelEmbed_ModelName_Cjqtc",ModelStats:"ModelEmbed_ModelStats_Wy1gP",AvatarImage:"ModelEmbed_AvatarImage_DFD0v",StatsWrapper:"ModelEmbed_StatsWrapper_yIXtr"};const ee={};ee["$style"]=X;const te=(0,u.Z)(V,[["__cssModules",ee]]);var ae=te}}]);
//# sourceMappingURL=305.3d6289a2.js.map